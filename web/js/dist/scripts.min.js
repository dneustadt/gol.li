function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}}(function(){return function e(t,n,r){function i(c,s){if(!n[c]){if(!t[c]){var a="function"==typeof require&&require;if(!s&&a)return a(c,!0);if(o)return o(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){var n=t[c][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[c].exports}for(var o="function"==typeof require&&require,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(e,t,n){"use strict";var r={},i="(?:^|\\s)",o="(?:\\s|$)";function c(e){var t=r[e];return t?t.lastIndex=0:r[e]=t=new RegExp(i+e+o,"g"),t}t.exports={add:function(e,t){var n=e.className;n.length?c(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(c(t)," ").trim()}}},{}],2:[function(e,t,n){(function(n){"use strict";var r=e("contra/emitter"),i=e("crossvent"),o=e("./classes"),c=document,s=c.documentElement;function a(e,t,r,o){n.navigator.pointerEnabled?i[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[r],o):n.navigator.msPointerEnabled?i[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[r],o):(i[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[r],o),i[t](e,r,o))}function l(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function u(e,t){return void 0!==n[t]?n[t]:s.clientHeight?s[e]:c.body[e]}function d(e,t,n){var r,i=e||{},o=i.className;return i.className+=" gu-hide",r=c.elementFromPoint(t,n),i.className=o,r}function f(){return!1}function p(){return!0}function h(e){return e.width||e.right-e.left}function v(e){return e.height||e.bottom-e.top}function y(e){return e.parentNode===c?null:e.parentNode}function m(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){if(!t)return!1;if("false"===t.contentEditable)return!1;if("true"===t.contentEditable)return!0;return e(y(t))}(e)}function g(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function k(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in n)&&r[e]in n&&(e=r[e]),n[e]}t.exports=function(e,t){var n,w,b,E,C,S,x,T,L,A,N;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var O,R=null,q=t||{};void 0===q.moves&&(q.moves=p),void 0===q.accepts&&(q.accepts=p),void 0===q.invalid&&(q.invalid=function(){return!1}),void 0===q.containers&&(q.containers=e||[]),void 0===q.isContainer&&(q.isContainer=f),void 0===q.copy&&(q.copy=!1),void 0===q.copySortSource&&(q.copySortSource=!1),void 0===q.revertOnSpill&&(q.revertOnSpill=!1),void 0===q.removeOnSpill&&(q.removeOnSpill=!1),void 0===q.direction&&(q.direction="vertical"),void 0===q.ignoreInputTextSelection&&(q.ignoreInputTextSelection=!0),void 0===q.mirrorContainer&&(q.mirrorContainer=c.body);var P=r({containers:q.containers,start:function(e){var t=B(e);t&&F(t)},end:W,cancel:U,remove:K,destroy:function(){z(!0),Y({})},canMove:function(e){return!!B(e)},dragging:!1});return!0===q.removeOnSpill&&P.on("over",function(e){o.rm(e,"gu-hide")}).on("out",function(e){P.dragging&&o.add(e,"gu-hide")}),z(),P;function j(e){return-1!==P.containers.indexOf(e)||q.isContainer(e)}function z(e){var t=e?"remove":"add";a(s,t,"mousedown",D),a(s,t,"mouseup",Y)}function M(e){a(s,e?"remove":"add","mousemove",H)}function I(e){var t=e?"remove":"add";i[t](s,"selectstart",_),i[t](s,"click",_)}function _(e){O&&e.preventDefault()}function D(e){if(S=e.clientX,x=e.clientY,1===l(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=B(t);n&&(O=n,M(),"mousedown"===e.type&&(m(t)?t.focus():e.preventDefault()))}}function H(e){if(O)if(0!==l(e)){if(void 0===e.clientX||e.clientX!==S||void 0===e.clientY||e.clientY!==x){if(q.ignoreInputTextSelection){var t=k("clientX",e),r=k("clientY",e);if(m(c.elementFromPoint(t,r)))return}var i=O;M(!0),I(),W(),F(i);var d,f={left:(d=b.getBoundingClientRect()).left+u("scrollLeft","pageXOffset"),top:d.top+u("scrollTop","pageYOffset")};E=k("pageX",e)-f.left,C=k("pageY",e)-f.top,o.add(A||b,"gu-transit"),function(){if(!n){var e=b.getBoundingClientRect();(n=b.cloneNode(!0)).style.width=h(e)+"px",n.style.height=v(e)+"px",o.rm(n,"gu-transit"),o.add(n,"gu-mirror"),q.mirrorContainer.appendChild(n),a(s,"add","mousemove",J),o.add(q.mirrorContainer,"gu-unselectable"),P.emit("cloned",n,b,"mirror")}}(),J(e)}}else Y({})}function B(e){if(!(P.dragging&&n||j(e))){for(var t=e;y(e)&&!1===j(y(e));){if(q.invalid(e,t))return;if(!(e=y(e)))return}var r=y(e);if(r&&!q.invalid(e,t)&&q.moves(e,r,t,g(e)))return{item:e,source:r}}}function F(e){var t,n;t=e.item,n=e.source,("boolean"==typeof q.copy?q.copy:q.copy(t,n))&&(A=e.item.cloneNode(!0),P.emit("cloned",A,e.item,"copy")),w=e.source,b=e.item,T=L=g(e.item),P.dragging=!0,P.emit("drag",b,w)}function W(){if(P.dragging){var e=A||b;V(e,y(e))}}function X(){O=!1,M(!0),I(!0)}function Y(e){if(X(),P.dragging){var t=A||b,r=k("clientX",e),i=k("clientY",e),o=$(d(n,r,i),r,i);o&&(A&&q.copySortSource||!A||o!==w)?V(t,o):q.removeOnSpill?K():U()}}function V(e,t){var n=y(e);A&&q.copySortSource&&t===w&&n.removeChild(b),Q(t)?P.emit("cancel",e,w,w):P.emit("drop",e,t,w,L),G()}function K(){if(P.dragging){var e=A||b,t=y(e);t&&t.removeChild(e),P.emit(A?"cancel":"remove",e,t,w),G()}}function U(e){if(P.dragging){var t=arguments.length>0?e:q.revertOnSpill,n=A||b,r=y(n),i=Q(r);!1===i&&t&&(A?r&&r.removeChild(A):w.insertBefore(n,T)),i||t?P.emit("cancel",n,w,w):P.emit("drop",n,r,w,L),G()}}function G(){var e=A||b;X(),n&&(o.rm(q.mirrorContainer,"gu-unselectable"),a(s,"remove","mousemove",J),y(n).removeChild(n),n=null),e&&o.rm(e,"gu-transit"),N&&clearTimeout(N),P.dragging=!1,R&&P.emit("out",e,R,w),P.emit("dragend",e),w=b=A=T=L=N=R=null}function Q(e,t){var r;return r=void 0!==t?t:n?L:g(A||b),e===w&&r===T}function $(e,t,n){for(var r=e;r&&!i();)r=y(r);return r;function i(){if(!1===j(r))return!1;var i=Z(r,e),o=ee(r,i,t,n);return!!Q(r,o)||q.accepts(b,r,w,o)}}function J(e){if(n){e.preventDefault();var t=k("clientX",e),r=k("clientY",e),i=t-E,o=r-C;n.style.left=i+"px",n.style.top=o+"px";var c=A||b,s=d(n,t,r),a=$(s,t,r),l=null!==a&&a!==R;(l||null===a)&&(R&&h("out"),R=a,l&&h("over"));var u=y(c);if(a!==w||!A||q.copySortSource){var f,p=Z(a,s);if(null!==p)f=ee(a,p,t,r);else{if(!0!==q.revertOnSpill||A)return void(A&&u&&u.removeChild(c));f=T,a=w}(null===f&&l||f!==c&&f!==g(c))&&(L=f,a.insertBefore(c,f),P.emit("shadow",c,a,w))}else u&&u.removeChild(c)}function h(e){P.emit(e,c,R,w)}}function Z(e,t){for(var n=t;n!==e&&y(n)!==e;)n=y(n);return n===s?null:n}function ee(e,t,n,r){var i,o="horizontal"===q.direction;return t!==e?(i=t.getBoundingClientRect(),c(o?n>i.left+h(i)/2:r>i.top+v(i)/2)):function(){var t,i,c,s=e.children.length;for(t=0;t<s;t++){if(i=e.children[t],c=i.getBoundingClientRect(),o&&c.left+c.width/2>n)return i;if(!o&&c.top+c.height/2>r)return i}return null}();function c(e){return e?g(t):t}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var r=e("ticky");t.exports=function(e,t,n){e&&r(function(){e.apply(n||null,t||[])})}},{ticky:9}],5:[function(e,t,n){"use strict";var r=e("atoa"),i=e("./debounce");t.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete o[t];else if(0===r)o={};else{var i=o[t];if(!i)return e;i.splice(i.indexOf(n),1)}return e},e.emit=function(){var t=r(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var c=(o[t]||[]).slice(0);return function(){var o=r(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!c.length)throw 1===o.length?o[0]:o;return c.forEach(function(r){n.async?i(r,o,s):r.apply(s,o),r._once&&e.off(t,r)}),e}},e}},{"./debounce":4,atoa:3}],6:[function(e,t,n){(function(n){"use strict";var r=e("custom-event"),i=e("./eventmap"),o=n.document,c=function(e,t,n,r){return e.addEventListener(t,n,r)},s=function(e,t,n,r){return e.removeEventListener(t,n,r)},a=[];function l(e,t,n){var r=function(e,t,n){var r,i;for(r=0;r<a.length;r++)if((i=a[r]).element===e&&i.type===t&&i.fn===n)return r}(e,t,n);if(r){var i=a[r].wrapper;return a.splice(r,1),i}}n.addEventListener||(c=function(e,t,r){return e.attachEvent("on"+t,function(e,t,r){var i=l(e,t,r)||function(e,t,r){return function(t){var i=t||n.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,r.call(e,i)}}(e,0,r);return a.push({wrapper:i,element:e,type:t,fn:r}),i}(e,t,r))},s=function(e,t,n){var r=l(e,t,n);if(r)return e.detachEvent("on"+t,r)}),t.exports={add:c,remove:s,fabricate:function(e,t,n){var c=-1===i.indexOf(t)?new r(t,{detail:n}):function(){var e;o.createEvent?(e=o.createEvent("Event")).initEvent(t,!0,!0):o.createEventObject&&(e=o.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(c):e.fireEvent("on"+t,c)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,t,n){(function(e){"use strict";var n=[],r="",i=/^on/;for(r in e)i.test(r)&&n.push(r.slice(2));t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(e){var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var r;r="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},t.exports=r},{}]},{},[2])(2)}),function(e,t){"use strict";var n=e.document,r=e.navigator,i=e.location,o=n.documentElement,c=[],s={screens:[240,320,480,640,768,800,1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:11}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},html5:!0,page:"-page",section:"-section",head:"head"};if(e.head_conf)for(var a in e.head_conf)void 0!==e.head_conf[a]&&(s[a]=e.head_conf[a]);function l(e){c[c.length]=e}function u(e){var t=new RegExp(" ?\\b"+e+"\\b");o.className=o.className.replace(t,"")}function d(e,t){for(var n=0,r=e.length;n<r;n++)t.call(e,e[n],n)}var f=e[s.head]=function(){f.ready.apply(null,arguments)};f.feature=function(e,t,n){return e?("[object Function]"===Object.prototype.toString.call(t)&&(t=t.call()),l((t?"":"no-")+e),f[e]=!!t,n||(u("no-"+e),u(e),f.feature()),f):(o.className+=" "+c.join(" "),c=[],f)},f.feature("js",!0);var p=r.userAgent.toLowerCase(),h=/mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(p);f.feature("mobile",h,!0),f.feature("desktop",!h,!0);var v=(p=/(chrome|firefox)[ \/]([\w.]+)/.exec(p)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(msie) ([\w.]+)/.exec(p)||/(trident).+rv:(\w.)+/.exec(p)||[])[1],y=parseFloat(p[2]);switch(v){case"msie":case"trident":v="ie",y=n.documentMode||y;break;case"firefox":v="ff";break;case"ipod":case"ipad":case"iphone":v="ios";break;case"webkit":v="safari"}f.browser={name:v,version:y},f.browser[v]=!0;for(var m=0,g=s.browsers.length;m<g;m++)for(var k in s.browsers[m])if(v===k){l(k);for(var w=s.browsers[m][k].min,b=s.browsers[m][k].max,E=w;E<=b;E++)y>E?(s.browserCss.gt&&l("gt-"+k+E),s.browserCss.gte&&l("gte-"+k+E)):y<E?(s.browserCss.lt&&l("lt-"+k+E),s.browserCss.lte&&l("lte-"+k+E)):y===E&&(s.browserCss.lte&&l("lte-"+k+E),s.browserCss.eq&&l("eq-"+k+E),s.browserCss.gte&&l("gte-"+k+E))}else l("no-"+k);function C(){o.className=o.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");var t=e.innerWidth||o.clientWidth,n=e.outerWidth||e.screen.width;f.screen.innerWidth=t,f.screen.outerWidth=n,l("w-"+t),d(s.screens,function(e){t>e?(s.screensCss.gt&&l("gt-"+e),s.screensCss.gte&&l("gte-"+e)):t<e?(s.screensCss.lt&&l("lt-"+e),s.screensCss.lte&&l("lte-"+e)):t===e&&(s.screensCss.lte&&l("lte-"+e),s.screensCss.eq&&l("e-q"+e),s.screensCss.gte&&l("gte-"+e))});var r=e.innerHeight||o.clientHeight,i=e.outerHeight||e.screen.height;f.screen.innerHeight=r,f.screen.outerHeight=i,f.feature("portrait",r>t),f.feature("landscape",r<t)}l(v),l(v+parseInt(y,10)),s.html5&&"ie"===v&&y<9&&d("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(e){n.createElement(e)}),d(i.pathname.split("/"),function(e,t){if(this.length>2&&void 0!==this[t+1])t&&l(this.slice(t,t+1).join("-").toLowerCase()+s.section);else{var n=e||"index",r=n.indexOf(".");r>0&&(n=n.substring(0,r)),o.id=n.toLowerCase()+s.page,t||l("root"+s.section)}}),f.screen={height:e.screen.height,width:e.screen.width},C();var S=0;function x(){e.clearTimeout(S),S=e.setTimeout(C,50)}e.addEventListener?e.addEventListener("resize",x,!1):e.attachEvent("onresize",x)}(window),function(e,t){"use strict";var n=e.document.createElement("i"),r=n.style,i=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),o="Webkit Moz O ms Khtml".split(" "),c=e.head_conf&&e.head_conf.head||"head",s=e[c];function a(e){var n=e.charAt(0).toUpperCase()+e.substr(1);return!!function(e){for(var n in e)if(r[e[n]]!==t)return!0;return!1}((e+" "+o.join(n+" ")+n).split(" "))}var l={gradient:function(){var e="background-image:";return r.cssText=(e+i.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));"+e)+i.join("linear-gradient(left top,#eee,#fff);"+e)).slice(0,-e.length),!!r.backgroundImage},rgba:function(){return r.cssText="background-color:rgba(0,0,0,0.5)",!!r.backgroundColor},opacity:function(){return""===n.style.opacity},textshadow:function(){return""===r.textShadow},multiplebgs:function(){r.cssText="background:url(https://),url(https://),red url(https://)";var e=(r.background||"").match(/url/g);return"[object Array]"===Object.prototype.toString.call(e)&&3===e.length},boxshadow:function(){return a("boxShadow")},borderimage:function(){return a("borderImage")},borderradius:function(){return a("borderRadius")},cssreflections:function(){return a("boxReflect")},csstransforms:function(){return a("transform")},csstransitions:function(){return a("transition")},touch:function(){return"ontouchstart"in e},retina:function(){return e.devicePixelRatio>1},fontface:function(){var e=s.browser.name,t=s.browser.version;switch(e){case"ie":return t>=9;case"chrome":return t>=13;case"ff":return t>=6;case"ios":return t>=5;case"android":return!1;case"webkit":return t>=5.1;case"opera":return t>=10;default:return!1}}};for(var u in l)l[u]&&s.feature(u,l[u].call(),!0);s.feature()}(window),function(e,t){"use strict";var n,r=e.document,i=[],o={},c={},s="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||e.opera,a=e.head_conf&&e.head_conf.head||"head",l=e[a]=e[a]||function(){l.ready.apply(null,arguments)},u=1,d=2,f=3,p=4;function h(){}function v(e,t){if(e){"object"==typeof e&&(e=[].slice.call(e));for(var n=0,r=e.length;n<r;n++)t.call(e,e[n],n)}}function y(e,n){var r=Object.prototype.toString.call(n).slice(8,-1);return n!==t&&null!==n&&r===e}function m(e){return y("Function",e)}function g(e){return y("Array",e)}function k(e){(e=e||h)._done||(e(),e._done=1)}function w(e){var t,n,r,i,o={};if("object"==typeof e)for(var s in e)e[s]&&(o={name:s,url:e[s]});else o={name:(t=e,n=t.split("/"),r=n[n.length-1],i=r.indexOf("?"),-1!==i?r.substring(0,i):r),url:e};var a=c[o.name];return a&&a.url===o.url?a:(c[o.name]=o,o)}function b(e){for(var t in e=e||c)if(e.hasOwnProperty(t)&&e[t].state!==p)return!1;return!0}function E(e,n){e.state===t&&(e.state=u,e.onpreload=[],S({url:e.url,type:"cache"},function(){!function(e){e.state=d,v(e.onpreload,function(e){e.call()})}(e)}))}function C(e,t){t=t||h,e.state!==p?e.state!==f?e.state!==u?(e.state=f,S(e,function(){e.state=p,t(),v(o[e.name],function(e){k(e)}),n&&b()&&v(o.ALL,function(e){k(e)})})):e.onpreload.push(function(){C(e,t)}):l.ready(e.name,t):t()}function S(t,n){function i(t){t=t||e.event,c.onload=c.onreadystatechange=c.onerror=null,n()}function o(i){("load"===(i=i||e.event).type||/loaded|complete/.test(c.readyState)&&(!r.documentMode||r.documentMode<9))&&(e.clearTimeout(t.errorTimeout),e.clearTimeout(t.cssTimeout),c.onload=c.onreadystatechange=c.onerror=null,n())}var c,s,a;n=n||h,"css"===(s=t.url,(a=(s=s||"").split("?")[0].split("."))[a.length-1].toLowerCase())?((c=r.createElement("link")).type="text/"+(t.type||"css"),c.rel="stylesheet",c.href=t.url,t.cssRetries=0,t.cssTimeout=e.setTimeout(function n(){if(t.state!==p&&t.cssRetries<=20){for(var i=0,s=r.styleSheets.length;i<s;i++)if(r.styleSheets[i].href===c.href)return void o({type:"load"});t.cssRetries++,t.cssTimeout=e.setTimeout(n,250)}},500)):((c=r.createElement("script")).type="text/"+(t.type||"javascript"),c.src=t.url),c.onload=c.onreadystatechange=o,c.onerror=i,c.async=!1,c.defer=!1,t.errorTimeout=e.setTimeout(function(){i({type:"timeout"})},7e3);var l=r.head||r.getElementsByTagName("head")[0];l.insertBefore(c,l.lastChild)}function x(){if(!r.body)return e.clearTimeout(l.readyTimeout),void(l.readyTimeout=e.setTimeout(x,50));n||(n=!0,function(){for(var e=r.getElementsByTagName("script"),t=0,n=e.length;t<n;t++){var i=e[t].getAttribute("data-headjs-load");if(i)return void l.load(i)}}(),v(i,function(e){k(e)}))}function T(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",T,!1),x()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",T),x())}if("complete"===r.readyState)x();else if(r.addEventListener)r.addEventListener("DOMContentLoaded",T,!1),e.addEventListener("load",x,!1);else{r.attachEvent("onreadystatechange",T),e.attachEvent("onload",x);var L=!1;try{L=!e.frameElement&&r.documentElement}catch(e){}L&&L.doScroll&&function t(){if(!n){try{L.doScroll("left")}catch(n){return e.clearTimeout(l.readyTimeout),void(l.readyTimeout=e.setTimeout(t,50))}x()}}()}l.load=l.js=s?function(){var e=arguments,t=e[e.length-1],n={};return m(t)||(t=null),g(e[0])?(e[0].push(t),l.load.apply(null,e[0]),l):(v(e,function(e,r){e!==t&&(e=w(e),n[e.name]=e)}),v(e,function(e,r){e!==t&&C(e=w(e),function(){b(n)&&k(t)})}),l)}:function(){var e=arguments,t=e[e.length-1],n=[].slice.call(e,1),r=n[0];return m(t)||(t=null),g(e[0])?(e[0].push(t),l.load.apply(null,e[0]),l):(r?(v(n,function(e){!m(e)&&e&&E(w(e))}),C(w(e[0]),m(r)?r:function(){l.load.apply(null,n)})):C(w(e[0])),l)},l.test=function(e,t,n,r){var i="object"==typeof e?e:{test:e,success:!!t&&(g(t)?t:[t]),failure:!!n&&(g(n)?n:[n]),callback:r||h},o=!!i.test;return o&&i.success?(i.success.push(i.callback),l.load.apply(null,i.success)):!o&&i.failure?(i.failure.push(i.callback),l.load.apply(null,i.failure)):r(),l},l.ready=function(e,t){if(e===r)return n?k(t):i.push(t),l;if(m(e)&&(t=e,e="ALL"),g(e)){var s={};return v(e,function(e){s[e]=c[e],l.ready(e,function(){b(s)&&k(t)})}),l}if("string"!=typeof e||!m(t))return l;var a=c[e];if(a&&a.state===p||"ALL"===e&&b()&&n)return k(t),l;var u=o[e];return u?u.push(t):u=o[e]=[t],l},l.ready(r,function(){b()&&v(o.ALL,function(e){k(e)}),l.feature&&l.feature("domloaded",!0)})}(window);var Sticky=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.selector=t,this.elements=[],this.version="1.2.0",this.vp=this.getViewportSize(),this.body=document.querySelector("body"),this.options={wrap:n.wrap||!1,marginTop:n.marginTop||0,stickyFor:n.stickyFor||0,stickyClass:n.stickyClass||null,stickyContainer:n.stickyContainer||"body"},this.updateScrollTopPosition=this.updateScrollTopPosition.bind(this),this.updateScrollTopPosition(),window.addEventListener("load",this.updateScrollTopPosition),window.addEventListener("scroll",this.updateScrollTopPosition),this.run()}return e.prototype.run=function(){var e=this,t=setInterval(function(){if("complete"===document.readyState){clearInterval(t);var n=document.querySelectorAll(e.selector);e.forEach(n,function(t){return e.renderElement(t)})}},10)},e.prototype.renderElement=function(e){var t=this;e.sticky={},e.sticky.active=!1,e.sticky.marginTop=parseInt(e.getAttribute("data-margin-top"))||this.options.marginTop,e.sticky.stickyFor=parseInt(e.getAttribute("data-sticky-for"))||this.options.stickyFor,e.sticky.stickyClass=e.getAttribute("data-sticky-class")||this.options.stickyClass,e.sticky.wrap=!!e.hasAttribute("data-sticky-wrap")||this.options.wrap,e.sticky.stickyContainer=this.options.stickyContainer,e.sticky.container=this.getStickyContainer(e),e.sticky.container.rect=this.getRectangle(e.sticky.container),e.sticky.rect=this.getRectangle(e),"img"===e.tagName.toLowerCase()&&(e.onload=function(){return e.sticky.rect=t.getRectangle(e)}),e.sticky.wrap&&this.wrapElement(e),this.activate(e)},e.prototype.wrapElement=function(e){e.insertAdjacentHTML("beforebegin","<span></span>"),e.previousSibling.appendChild(e)},e.prototype.activate=function(e){e.sticky.rect.top+e.sticky.rect.height<e.sticky.container.rect.top+e.sticky.container.rect.height&&e.sticky.stickyFor<this.vp.width&&!e.sticky.active&&(e.sticky.active=!0),this.elements.indexOf(e)<0&&this.elements.push(e),e.sticky.resizeEvent||(this.initResizeEvents(e),e.sticky.resizeEvent=!0),e.sticky.scrollEvent||(this.initScrollEvents(e),e.sticky.scrollEvent=!0),this.setPosition(e)},e.prototype.initResizeEvents=function(e){var t=this;e.sticky.resizeListener=function(){return t.onResizeEvents(e)},window.addEventListener("resize",e.sticky.resizeListener)},e.prototype.destroyResizeEvents=function(e){window.removeEventListener("resize",e.sticky.resizeListener)},e.prototype.onResizeEvents=function(e){this.vp=this.getViewportSize(),e.sticky.rect=this.getRectangle(e),e.sticky.container.rect=this.getRectangle(e.sticky.container),e.sticky.rect.top+e.sticky.rect.height<e.sticky.container.rect.top+e.sticky.container.rect.height&&e.sticky.stickyFor<this.vp.width&&!e.sticky.active?e.sticky.active=!0:(e.sticky.rect.top+e.sticky.rect.height>=e.sticky.container.rect.top+e.sticky.container.rect.height||e.sticky.stickyFor>=this.vp.width&&e.sticky.active)&&(e.sticky.active=!1),this.setPosition(e)},e.prototype.initScrollEvents=function(e){var t=this;e.sticky.scrollListener=function(){return t.onScrollEvents(e)},window.addEventListener("scroll",e.sticky.scrollListener)},e.prototype.destroyScrollEvents=function(e){window.removeEventListener("scroll",e.sticky.scrollListener)},e.prototype.onScrollEvents=function(e){e.sticky.active&&this.setPosition(e)},e.prototype.setPosition=function(e){this.css(e,{position:"",width:"",top:"",left:""}),this.vp.height<e.sticky.rect.height||!e.sticky.active||(e.sticky.rect.width||(e.sticky.rect=this.getRectangle(e)),e.sticky.wrap&&this.css(e.parentNode,{display:"block",width:e.sticky.rect.width+"px",height:e.sticky.rect.height+"px"}),0===e.sticky.rect.top&&e.sticky.container===this.body?this.css(e,{position:"fixed",top:e.sticky.rect.top+"px",left:e.sticky.rect.left+"px",width:e.sticky.rect.width+"px"}):this.scrollTop>e.sticky.rect.top-e.sticky.marginTop?(this.css(e,{position:"fixed",width:e.sticky.rect.width+"px",left:e.sticky.rect.left+"px"}),this.scrollTop+e.sticky.rect.height+e.sticky.marginTop>e.sticky.container.rect.top+e.sticky.container.offsetHeight?(e.sticky.stickyClass&&e.classList.remove(e.sticky.stickyClass),this.css(e,{top:e.sticky.container.rect.top+e.sticky.container.offsetHeight-(this.scrollTop+e.sticky.rect.height)+"px"})):(e.sticky.stickyClass&&e.classList.add(e.sticky.stickyClass),this.css(e,{top:e.sticky.marginTop+"px"}))):(e.sticky.stickyClass&&e.classList.remove(e.sticky.stickyClass),this.css(e,{position:"",width:"",top:"",left:""}),e.sticky.wrap&&this.css(e.parentNode,{display:"",width:"",height:""})))},e.prototype.update=function(){var e=this;this.forEach(this.elements,function(t){t.sticky.rect=e.getRectangle(t),t.sticky.container.rect=e.getRectangle(t.sticky.container),e.activate(t),e.setPosition(t)})},e.prototype.destroy=function(){var e=this;this.forEach(this.elements,function(t){e.destroyResizeEvents(t),e.destroyScrollEvents(t),delete t.sticky})},e.prototype.getStickyContainer=function(e){for(var t=e.parentNode;!t.hasAttribute("data-sticky-container")&&!t.parentNode.querySelector(e.sticky.stickyContainer)&&t!==this.body;)t=t.parentNode;return t},e.prototype.getRectangle=function(e){this.css(e,{position:"",width:"",top:"",left:""});var t=Math.max(e.offsetWidth,e.clientWidth,e.scrollWidth),n=Math.max(e.offsetHeight,e.clientHeight,e.scrollHeight),r=0,i=0;do{r+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:r,left:i,width:t,height:n}},e.prototype.getViewportSize=function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},e.prototype.updateScrollTopPosition=function(){this.scrollTop=(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0},e.prototype.forEach=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},e.prototype.css=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},e}();!function(e,t){"undefined"!=typeof exports?module.exports=t:"function"==typeof define&&define.amd?define([],t):e.Sticky=t}(this,Sticky),Array.from(document.querySelectorAll(".column.remove .remove--button")).forEach(e=>{let t=e.getAttribute("data-id"),n='.service-select--dropdown input[value="'+t+'"]',r='.column.handle input[data-id="'+t+'"]';e.addEventListener("click",function(e){e.preventDefault(),Array.from(document.querySelectorAll(n)).forEach(e=>{e.checked=!1}),Array.from(document.querySelectorAll(r)).forEach(e=>{e.value="",e.parentElement.parentElement.setAttribute("style","display: none;")})})}),Array.from(document.querySelectorAll(".service-select--dropdown input")).forEach(e=>{let t='.column.handle input[data-id="'+e.value+'"]';e.addEventListener("change",function(e){e.preventDefault(),e.target.checked&&Array.from(document.querySelectorAll(t)).forEach(e=>{let t=e.parentElement.parentElement;t.removeAttribute("style"),t.scrollIntoView(!0)})})}),Array.from(document.querySelectorAll(".dropdown-label")).forEach(e=>{e.addEventListener("click",function(e){e.target.focus()})}),Array.from(document.querySelectorAll(".confirm-checkbox")).forEach(e=>{e.addEventListener("change",function(e){e.preventDefault();let t=e.target.nextElementSibling;e.target.checked?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")})}),Array.from(document.querySelectorAll(".create-qrcode")).forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),head.load(e.target.getAttribute("data-js"),function(){let t=document.getElementById("qrcode");for(;t.firstChild;)t.removeChild(t.firstChild);new QRCode(t,{width:200,height:200,useSVG:!0}).makeCode(e.target.getAttribute("data-url"))})})}),dragula([document.querySelector(".service-form .service-rows")]),Array.from(document.querySelectorAll(".errors")).forEach(e=>{e.scrollIntoView(!0)});var sticky=new Sticky("[data-sticky]");Array.from(document.querySelectorAll('input[name="_username"]')).forEach(e=>{e.addEventListener("keydown",function(e){37!==e.keyCode&&39!==e.keyCode&&8!==e.keyCode&&9!==e.keyCode&&13!==e.keyCode&&(!(e.keyCode<48||e.keyCode>90||e.shiftKey)||e.shiftKey&&189===e.keyCode||e.preventDefault())})});